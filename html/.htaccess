AddHandler php5-script .php

<FilesMatch "\.(gif|css)$">
Header set Expires "15 Apr 2022 20:00:00 GMT"
Header unset ETag
FileETag None
</FilesMatch>

<IfModule mod_headers.c>
  <FilesMatch "\.(js|css|xml|gz)$">
    Header append Vary: Accept-Encoding
  </FilesMatch>
</IfModule>

RewriteEngine on

RewriteRule ajax.php(.+)? ajax.php$1 [L]
RewriteRule cron.php(.+)? cron.php$1 [L]
RewriteRule css/(.+)? css/$1 [L]
RewriteRule images/(.+)? images/$1 [L]

RewriteRule stats.php(.+)? index.php$1 [L]
RewriteRule poll.php(.+)? index.php$1 [L]
RewriteRule allquestions.php(.+)? index.php$1 [L]

RewriteRule ^api(.+)? index.php [NC,QSA,L]

RewriteRule ^([^\.]+)?$ index.php [NC,QSA,L]

ErrorDocument 404 /404

